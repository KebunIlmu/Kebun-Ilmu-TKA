<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Try Out TKA Bahasa Indonesia - Kebun Ilmu</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

	 <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #f4f9ff;
    }

    header {
      position: sticky;
      top: 0;
      background-color: #1e88e5;
      color: white;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .menu-button, .timer {
      background: white;
      color: #1e88e5;
      border: none;
      padding: 8px 14px;
      border-radius: 6px;
      font-weight: bold;
      cursor: default;
    }

    .container {
      display: flex;
      height: calc(100vh - 60px);
    }

    .left-panel {
      width: 25%;
      background-color: #e3f2fd;
      padding: 20px;
      border-right: 1px solid #cfd8dc;
      overflow-y: auto;
    }

    .right-panel {
      width: 75%;
      padding: 30px;
      overflow-y: auto;
    }

    .question-buttons {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
    }

    .question-buttons button {
      padding: 6px;
      font-size: 13px;
      background-color: white;
      border: 1.5px solid #1e88e5;
      border-radius: 6px;
      color: #1e88e5;
      cursor: pointer;
      transition: 0.2s;
    }

    .question-buttons button:hover {
      background-color: #bbdefb;
    }

    .question-buttons button.active {
      background-color: #1565c0;
      color: white;
    }

    .navigation {
      margin-top: 30px;
    }

    .navigation button {
      padding: 10px 18px;
      margin: 5px;
      background-color: #1e88e5;
      color: white;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
    }

    .navigation button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }

    .option {
      display: block;
      padding: 10px 15px;
      margin: 10px 0;
      border: 1.5px solid #90caf9;
      border-radius: 6px;
      background-color: white;
      cursor: pointer;
      transition: 0.2s;
    }

    .option:hover {
      background-color: #e3f2fd;
    }

    .option input {
      margin-right: 10px;
    }

    #scoreDisplay {
      margin-top: 20px;
      font-weight: bold;
      color: #1e88e5;
      display: none;
    }

    #submitBtn {
      padding: 10px 18px;
      margin-top: 20px;
      background-color: #43a047;
      color: white;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      display: none;
    }

    #submitBtn:hover {
      background-color: #388e3c;
    }
 /* tambahan style untuk tabel benar salah */
    /* ===== Modern Friendly True-False Table ===== */
table.true-false {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin-top: 15px;
  font-family: "Segoe UI", Roboto, sans-serif;
  font-size: 15px;
  background-color: #ffffff;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

/* Header */
table.true-false thead th {
  background: linear-gradient(to right, #e3f2fd, #bbdefb);
  color: #0d47a1;
  font-weight: 600;
  text-transform: uppercase;
  padding: 10px;
  text-align: center;
  border-bottom: 2px solid #90caf9;
}

/* Sel isi */
table.true-false td {
  border-bottom: 1px solid #e3f2fd;
  padding: 10px 12px;
  text-align: center;
  color: #333;
  transition: background-color 0.2s ease;
}

/* Kolom pertama (pernyataan) */
table.true-false td:first-child {
  text-align: left;
  color: #222;
  font-weight: 500;
}

/* Efek hover tiap baris */
table.true-false tbody tr:hover {
  background-color: #f7fbff;
}

/* Radio button modern */
table.true-false input[type="radio"] {
  transform: scale(1.2);
  accent-color: #1e88e5; /* biru modern */
  cursor: pointer;
}

/* Efek baris yang dipilih */
table.true-false tr:has(input[type="radio"]:checked) {
  background-color: #eaf3ff;
  transition: background-color 0.2s ease;
}
/* Login Box */
#loginForm {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  background-color: #e3f2fd;
}
.login-box {
  background: white;
  padding: 30px 40px;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  width: 320px;
  text-align: center;
}
.login-box h2 {
  color: #1565c0;
  margin-bottom: 20px;
}
.login-box input {
  width: 100%;
  padding: 10px;
  margin-bottom: 15px;
  border: 1.5px solid #90caf9;
  border-radius: 6px;
}
.login-box button {
  width: 100%;
  padding: 10px;
  background-color: #1e88e5;
  border: none;
  color: white;
  border-radius: 6px;
  font-weight: bold;
  cursor: pointer;
}
#errorMsg {
  color: red;
  margin-top: 10px;
}
.hidden { display: none; }
/* ===== RESPONSIVE MOBILE ===== */
@media (max-width: 768px) {
* {
  box-sizing: border-box;
}
  header {
    padding: 10px 14px;
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }

  header h2 {
    font-size: 15px;
    line-height: 1.2;
  }

  .menu-button, .timer {
    padding: 6px 10px;
    font-size: 13px;
  }
.container {
    flex-direction: column;
    height: auto;
  }

  .left-panel {
    width: 100%;
    border-right: none;
    border-bottom: 1px solid #cfd8dc;
  }

  .right-panel {
    width: 100%;
    padding: 15px;
  }

  .question-buttons {
    grid-template-columns: repeat(5, 1fr);
  }
#questionDisplay {
    font-size: 14px;
  }

  .option {
    font-size: 14px;
    padding: 8px 10px;
  }
.fullscreen-mode header {
    padding: 6px 10px;
    min-height: unset;
  }

  .fullscreen-mode header h2 {
    font-size: 13px;
    line-height: 1.1;
    margin: 0;
  }

  .fullscreen-mode .menu-button,
  .fullscreen-mode .timer {
    padding: 4px 8px;
    font-size: 12px;
  }
}
  
</style>
</head>

<body>
<!-- ====== LOGIN SCREEN ====== -->
<div id="loginForm">
  <div class="login-box">
    <h2>Login Try Out</h2>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <button onclick="checkLogin()">Masuk</button>
    <p id="errorMsg"></p>
  </div>
</div>
<div id="pesertaForm" class="hidden" style="justify-content:center; align-items:center; height:100vh; background-color:#f4f9ff; padding:20px; box-sizing:border-box;">
  <div style="background:white; padding:24px 20px; border-radius:10px; box-shadow:0 4px 10px rgba(0,0,0,0.1); width:100%; max-width:400px;">

    <h2 style="margin-bottom:14px; color:#1E88E5; text-align:center;">Data Peserta</h2>

    <!-- NIK -->
    <label for="nik" style="font-weight:600; display:block; margin-bottom:3px;">NIK</label>
    <input id="nik" placeholder="Masukkan NIK"
      style="width:100%; padding:8px 10px; margin-bottom:8px; border:1.5px solid #90CAF9; border-radius:6px; font-size:15px; box-sizing:border-box;">

    <!-- Nama Peserta -->
    <label for="namaPeserta" style="font-weight:600; display:block; margin-bottom:3px;">Nama Peserta</label>
    <input id="namaPeserta" placeholder="Masukkan nama lengkap"
      style="width:100%; padding:8px 10px; margin-bottom:8px; border:1.5px solid #90CAF9; border-radius:6px; font-size:15px; box-sizing:border-box;">

    <!-- Jenis Kelamin -->
    <label for="jk" style="font-weight:600; display:block; margin-bottom:3px;">Jenis Kelamin</label>
    <select id="jk"
      style="width:100%; padding:8px 10px; margin-bottom:8px; border:1.5px solid #90CAF9; border-radius:6px; font-size:15px; box-sizing:border-box;">
      <option value="">-- Pilih Jenis Kelamin --</option>
      <option value="L">Laki-laki</option>
      <option value="P">Perempuan</option>
    </select>

    <!-- Tanggal Lahir -->
    <label for="tglLahir" style="font-weight:600; display:block; margin-bottom:3px;">Tanggal Lahir</label>
    <input id="tglLahir" type="date"
      style="width:100%; padding:8px 10px; margin-bottom:8px; border:1.5px solid #90CAF9; border-radius:6px; font-size:15px; box-sizing:border-box;">

    <!-- Sekolah -->
<label for="sekolah" style="font-weight:600; display:block; margin-bottom:3px;">
  Nama Sekolah
</label>
<select id="sekolah" required
  style="width:100%; padding:8px 10px; margin-bottom:8px;
         border:1.5px solid #90CAF9; border-radius:6px;
         font-size:15px; box-sizing:border-box;">
  <option value="">-- Pilih Sekolah --</option>
  <option value="MI RAUDLATUL ISLAM KETANGGUNGAN">
    MI RAUDLATUL ISLAM KETANGGUNGAN
  </option>
  <option value="lainnya">
    lainnya
  </option>
</select>


    <!-- Token -->
    <label for="tokenUjian" style="font-weight:600; display:block; margin-bottom:3px;">Token Ujian</label>
    <input id="tokenUjian" placeholder="Masukkan token ujian"
      style="width:100%; padding:8px 10px; margin-bottom:14px; border:1.5px solid #90CAF9; border-radius:6px; font-size:15px; box-sizing:border-box;">

    <button onclick="mulaiUjian()"
      style="width:100%; padding:10px; background-color:#1E88E5; color:white; border:none; border-radius:6px; font-weight:bold; cursor:pointer; font-size:15px;"
      onmouseover="this.style.backgroundColor='#1565C0';" 
      onmouseout="this.style.backgroundColor='#1E88E5';">
      Mulai Ujian
    </button>

    <p id="errorPeserta" style="margin-top:8px; font-size:13px; color:red; text-align:center;"></p>

  </div>
</div>

<!-- ====== TRYOUT CONTENT ====== -->
<div id="content22" class="hidden">
<header>
  <h2>Try Out TKA Bahasa Indonesia SD/MI - Kebun Ilmu</h2>
  <div>
        <span class="timer" id="timer">60:00</span>
  </div>
</header>

<div class="container">
  <div class="left-panel">
    <h3>Soal</h3>
    <div class="question-buttons" id="questionButtons"></div>
    <div id="scoreDisplay"></div>
  </div>

  <div class="right-panel">
    <div id="questionDisplay"></div>
    <div class="navigation">
      <button id="prevBtn">Sebelumnya</button>
      <button id="nextBtn">Selanjutnya</button>
      <button id="submitBtn">Submit</button>
    </div>
  </div>
</div>

</div>

<script>
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}
function getTokenSekarang() {
  const now = new Date();
  const jam = now.getHours();
  const menit = now.getMinutes();

  // batas waktu
  if (jam < 7 || jam >= 22) return null;

  // slot 10 menit (0â€“5)
  const slot = Math.floor(menit / 10);

  // ===== DEPAN ACAK TERKONTROL =====
  const seed = jam * 100 + slot;   // angka unik tiap 10 menit
  const depan = String.fromCharCode(65 + (seed * 7) % 26); // Aâ€“Z

  // token akhir
  return `${depan}${jam.toString().padStart(2,'0')}${slot}`;
}
function mulaiUjian() {
  const nik = document.getElementById("nik").value.trim();
  const nama = document.getElementById("namaPeserta").value.trim();
  const jk = document.getElementById("jk").value;
  const tgl = document.getElementById("tglLahir").value;
  const sekolah = document.getElementById("sekolah").value.trim();
  const token = document.getElementById("tokenUjian").value.trim();

  if (!nik || !nama || !jk || !tgl || !sekolah || !token) {
    document.getElementById("errorPeserta").innerText = "âŒ Semua data wajib diisi";
    return;
  }

  const tokenAktif = getTokenSekarang();

if (!tokenAktif) {
  document.getElementById("errorPeserta").innerText =
    "â° Ujian hanya bisa diakses pukul 07.00 â€“ 17.00";
  return;
}

if (token !== tokenAktif) {
  document.getElementById("errorPeserta").innerText =
    `âŒ Token salah. Tanya admin`;
  return;
}

  // simpan data peserta sementara
  window.dataPeserta = { nik, nama, jk, tgl, sekolah, token };
 questions = shuffleArray(questions);
answers = questions.map(q => {
  if (q.type === 'mc_multiple') return [];
  if (q.type === 'true_false') return Array(q.statements.length).fill(null);
  if (q.type === 'tepat_tidak') return Array(q.statements.length).fill(null);
if (q.type === 'sesuai_tidak') return Array(q.statements.length).fill(null);
if (q.type === 'relevan_tidak') return Array(q.statements.length).fill(null);
  if (q.type === 'dampak_jangka') return Array(q.statements.length).fill(null);
   if (q.type === 'mendukung_tidak') return Array(q.statements.length).fill(null); 
  return null;
});


  currentQuestion = 0;

  // sembunyikan form peserta dan tampilkan konten try out
  document.getElementById("pesertaForm").style.display = "none";
  document.getElementById("content22").classList.remove("hidden");

  // ğŸ”¥ Render soal dan start timer
  renderQuestionButtons();
  renderQuestion(currentQuestion);
  startTimer(60 * 60);

  // AUTO FULLSCREEN
  if (!document.fullscreenElement) {
    document.documentElement.requestFullscreen().catch(err => {
      console.warn("Fullscreen gagal:", err);
    });
  }
}

// ====== DATA AKUN + KADALUWARSA ======
const accounts = [
  { username: "zahwan", password: "132611", expire: "3000-08-24T23:59:59" },
  { username: "MANU9",  password: "2026",  expire: "2026-4-11T23:59:59" },
  { username: "Kebunilmu", password: "2026", expire: "2026-10-30T23:59:59" },
  { username: "coba",  password: "2026", expire: "2026-01-22T23:59:59" },
  { username: "MRI",   password: "2026", expire: "2026-07-30T23:59:59" },
  { username: "faiq",   password: "fa3456", expire: "2025-10-38T23:59:59" },
];

// ====== LOGIN FUNCTION ======
function checkLogin() {
  const user = document.getElementById("username").value.trim();
  const pass = document.getElementById("password").value.trim();

  const found = accounts.find(acc => acc.username === user && acc.password === pass);
  const errorMsg = document.getElementById("errorMsg");

  if (!found) {
    errorMsg.innerText = "âŒ Username atau password salah!";
    return;
  }

  const now = new Date();
  const expireDate = new Date(found.expire);

  if (now > expireDate) {
    errorMsg.innerText = `âš ï¸ Akun ${user} sudah kadaluwarsa!`;
    return;
  }

  localStorage.setItem('loggedInUser', JSON.stringify({ username: user }));
  showContent();
}

// ====== CEK SESSION SAAT HALAMAN DIMUAT ======
function checkSession() {
  const data = JSON.parse(localStorage.getItem('loggedInUser') || 'null');
  if (!data) return;
  const acc = accounts.find(a => a.username === data.username);
  if (!acc || new Date() > new Date(acc.expire)) {
    localStorage.removeItem('loggedInUser');
    document.getElementById("loginForm").style.display = "flex";
    document.getElementById("content22").classList.add("hidden");
    return;
  }
  showContent();
}

// ====== TAMPILKAN KONTEN DAN MULAI TRY OUT ======
function showContent() {
  document.getElementById("loginForm").style.display = "none";
  document.getElementById("pesertaForm").style.display = "flex";
  
}

  let questions = [
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Kebun Wortel Bersama</strong></p>

      <img src="https://i.imgur.com/NZK64er.png" alt="Ilustrasi kebun wortel dan binatang" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;"><br><br>

      Di sebuah kebun sayur hiduplah berbagai binatang. Di kebun itu ada ladang wortel yang biasa dimakan bersama. Suatu hari, Tono si kambing memakan wortel terlalu banyak. Ia mencabut wortel sembarangan hingga kebun menjadi rusak. Binatang lain tidak berani menegur karena Tono bertanduk dan suaranya keras. Mereka hanya saling pandang. Tono malah merasa hebat. Ia berdiri di tengah kebun sambil tertawa puas.<br><br>

      Keesokan harinya, Tono kembali ke kebun. Wortel makin berkurang. Binatang-binatang mulai khawatir. â€œKalau begini terus, kita tidak punya makanan,â€ kata Lili si landak. Mereka pun berkumpul untuk mencari jalan keluar.<br><br>

      Bima si beruang mengusulkan meminta bantuan Cika si kancil. â€œCika pintar dan pandai berbicara,â€ ujarnya. Semua binatang pun setuju.<br><br>

      Cika mendekati Tono dengan sopan. â€œSelamat pagi, Tuan Tono. Maaf mengganggu,â€ kata Cika. Tono tersenyum bangga. â€œAda apa?â€ tanyanya.<br><br>

      â€œHamba mendengar kabar bahwa kebun ini akan dinilai oleh penjaga hutan. Jika kebun rusak, hewan yang paling sering datang akan ditegur,â€ ujar Cika pelan. Tono terkejut. Ia segera pergi dari kebun dan berjanji tidak akan merusaknya lagi.<br><br>

      Sejak saat itu, kebun wortel kembali terawat. Semua binatang bisa makan dengan tenang dan rukun.<br><br>

      <b>Question:</b> Siapakah yang mengusulkan meminta bantuan Cika si kancil?
    </div>
  `,
  "options": [
    "Lili si landak",
    "Tono si kambing",
    "Penjaga hutan",
    "Bima si beruang"
  ],
  "correct": 3
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Kebun Wortel Bersama</strong></p>

      <img src="https://i.imgur.com/NZK64er.png" alt="Ilustrasi kebun wortel dan binatang" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;"><br><br>

      Di sebuah kebun sayur hiduplah berbagai binatang. Di kebun itu ada ladang wortel yang biasa dimakan bersama. Suatu hari, Tono si kambing memakan wortel terlalu banyak. Ia mencabut wortel sembarangan hingga kebun menjadi rusak. Binatang lain tidak berani menegur karena Tono bertanduk dan suaranya keras. Mereka hanya saling pandang. Tono malah merasa hebat. Ia berdiri di tengah kebun sambil tertawa puas.<br><br>

      Keesokan harinya, Tono kembali ke kebun. Wortel makin berkurang. Binatang-binatang mulai khawatir. â€œKalau begini terus, kita tidak punya makanan,â€ kata Lili si landak. Mereka pun berkumpul untuk mencari jalan keluar.<br><br>

      Bima si beruang mengusulkan meminta bantuan Cika si kancil. â€œCika pintar dan pandai berbicara,â€ ujarnya. Semua binatang pun setuju.<br><br>

      Cika mendekati Tono dengan sopan. â€œSelamat pagi, Tuan Tono. Maaf mengganggu,â€ kata Cika. Tono tersenyum bangga. â€œAda apa?â€ tanyanya.<br><br>

      â€œHamba mendengar kabar bahwa kebun ini akan dinilai oleh penjaga hutan. Jika kebun rusak, hewan yang paling sering datang akan ditegur,â€ ujar Cika pelan. Tono terkejut. Ia segera pergi dari kebun dan berjanji tidak akan merusaknya lagi.<br><br>

      Sejak saat itu, kebun wortel kembali terawat. Semua binatang bisa makan dengan tenang dan rukun.<br><br>

      <b>Question:</b> Makna ungkapan â€œmereka hanya saling pandangâ€ dalam teks tersebut adalah â€¦
    </div>
  `,
  "options": [
    "Para binatang sedang bermain bersama",
    "Para binatang tidak saling mengenal",
    "Para binatang bingung dan tidak berani bertindak",
    "Para binatang sedang bertengkar"
  ],
  "correct": 2
},

{
  type: "sesuai_tidak",
  text: `
    <p style="text-align:center;"><strong>Kebun Wortel Bersama</strong></p>

    <img src="https://i.imgur.com/NZK64er.png" 
         alt="Ilustrasi kebun wortel dan binatang" 
         style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
    <p>
      Di sebuah kebun sayur hiduplah berbagai binatang. Di kebun itu ada ladang wortel
      yang biasa dimakan bersama. Suatu hari, Tono si kambing memakan wortel terlalu
      banyak. Ia mencabut wortel sembarangan hingga kebun menjadi rusak. Binatang lain
      tidak berani menegur karena Tono bertanduk dan suaranya keras.
    </p>

    <p>
      Keesokan harinya, Tono kembali ke kebun. Wortel makin berkurang. Binatang-binatang
      mulai khawatir. Mereka pun berkumpul untuk mencari jalan keluar.
    </p>

    <p>
      Cika si kancil akhirnya menegur Tono dengan cara sopan dan bijaksana.
      Tono pun menyadari kesalahannya dan berjanji tidak merusak kebun lagi.
    </p>

    <p><strong>Tentukan kesesuaian pernyataan berikut!</strong></p>
  `,
  statements: [
    "Mengambil sesuatu secara berlebihan dapat merugikan orang lain.",
    "Masalah bersama sebaiknya dibiarkan tanpa dicari solusi.",
    "Menegur orang lain dengan cara sopan lebih efektif daripada marah-marah."
  ],
  correct: [true, false, true]
},
{
  "type": "mc_multiple",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Hewan Pemakan Buah: Frugivora</strong></p>

      Hewan yang makan buah sebagai makanan utama disebut frugivora. Frugivora adalah hewan yang sebagian besar makanannya terdiri dari buah. Beberapa hewan frugivora hanya memakan buah, sedangkan yang lain juga memakan bagian tumbuhan lain. Hewan ini termasuk kelompok herbivora karena makanannya berasal dari tumbuhan.<br><br>

      Hewan frugivora memiliki peran penting di alam. Saat memakan buah, biji buah tersebut dapat tersebar ke tempat lain. Biji yang jatuh di tanah dapat tumbuh menjadi tanaman baru. Dengan demikian, hewan frugivora membantu menjaga kelestarian tumbuhan.<br><br>

      Contoh hewan frugivora adalah kelelawar buah dan beberapa jenis burung. Hewan-hewan tersebut hidup di daerah yang banyak terdapat pohon buah. Oleh karena itu, lingkungan tempat mereka hidup perlu dijaga agar makanan mereka tetap tersedia.<br><br>

      <b>Question:</b> Contoh hewan frugivora yang disebutkan dalam teks adalah â€¦<br>
      <i>Pilih semua jawaban yang benar!</i>
    </div>
  `,
  "options": [
    "Kelelawar buah",
    "Singa",
    "Beberapa jenis burung"
  ],
  "correct": [0, 2]
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Hewan Pemakan Buah: Frugivora</strong></p>

      Hewan yang makan buah sebagai makanan utama disebut frugivora. Frugivora adalah hewan yang sebagian besar makanannya terdiri dari buah. Beberapa hewan frugivora hanya memakan buah, sedangkan yang lain juga memakan bagian tumbuhan lain. Hewan ini termasuk kelompok herbivora karena makanannya berasal dari tumbuhan.<br><br>

      Hewan frugivora memiliki peran penting di alam. Saat memakan buah, biji buah tersebut dapat tersebar ke tempat lain. Biji yang jatuh di tanah dapat tumbuh menjadi tanaman baru. Dengan demikian, hewan frugivora membantu menjaga kelestarian tumbuhan.<br><br>

      Contoh hewan frugivora adalah kelelawar buah dan beberapa jenis burung. Hewan-hewan tersebut hidup di daerah yang banyak terdapat pohon buah. Oleh karena itu, lingkungan tempat mereka hidup perlu dijaga agar makanan mereka tetap tersedia.<br><br>

      <small>
        Sumber: http://biologyinsights.com/what-is-a-frugivore-animal-diets-ecological-roles/
      </small><br><br>

      <b>Question:</b> Bagan mana yang sesuai untuk menggambarkan informasi pada teks tersebut?
    </div>
  `,
  "options": [
    "<div style='border:1px solid #000; padding:6px; text-align:center;'>Pengertian Hewan Frugivora</div><div style='text-align:center;'>â†“</div><div style='border:1px solid #000; padding:6px; text-align:center;'>Peran Frugivora di Alam</div><div style='text-align:center;'>â†“</div><div style='border:1px solid #000; padding:6px; text-align:center;'>Contoh Hewan Frugivora</div>",

    "<div style='border:1px solid #000; padding:6px; text-align:center;'>Contoh Hewan Frugivora</div><div style='text-align:center;'>â†“</div><div style='border:1px solid #000; padding:6px; text-align:center;'>Pengertian Hewan Frugivora</div><div style='text-align:center;'>â†“</div><div style='border:1px solid #000; padding:6px; text-align:center;'>Peran Frugivora di Alam</div>",

    "<div style='border:1px solid #000; padding:6px; text-align:center;'>Pengertian Hewan Frugivora</div><div style='text-align:center;'>â†“</div><div style='border:1px solid #000; padding:6px; text-align:center;'>Contoh Hewan Frugivora</div><div style='text-align:center;'>â†“</div><div style='border:1px solid #000; padding:6px; text-align:center;'>Peran Frugivora di Alam</div>",

    "<div style='border:1px solid #000; padding:6px; text-align:center;'>Hewan Karnivora</div><div style='text-align:center;'>â†“</div><div style='border:1px solid #000; padding:6px; text-align:center;'>Makan Daging</div><div style='text-align:center;'>â†“</div><div style='border:1px solid #000; padding:6px; text-align:center;'>Singa</div>"
  ],
  "correct": 0
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Hewan Pemakan Buah: Frugivora</strong></p>

      Hewan yang makan buah sebagai makanan utama disebut frugivora. Frugivora adalah hewan yang sebagian besar makanannya terdiri dari buah. Beberapa hewan frugivora hanya memakan buah, sedangkan yang lain juga memakan bagian tumbuhan lain. Hewan ini termasuk kelompok herbivora karena makanannya berasal dari tumbuhan.<br><br>

      Hewan frugivora memiliki peran penting di alam. Saat memakan buah, biji buah tersebut dapat tersebar ke tempat lain. Biji yang jatuh di tanah dapat tumbuh menjadi tanaman baru. Dengan demikian, hewan frugivora membantu menjaga kelestarian tumbuhan.<br><br>

      Contoh hewan frugivora adalah kelelawar buah dan beberapa jenis burung. Hewan-hewan tersebut hidup di daerah yang banyak terdapat pohon buah. Oleh karena itu, lingkungan tempat mereka hidup perlu dijaga agar makanan mereka tetap tersedia.<br><br>

      <small>
        Sumber: http://biologyinsights.com/what-is-a-frugivore-animal-diets-ecological-roles/
      </small><br><br>

      <b>Question:</b> Apa gagasan utama yang disampaikan pada paragraf pertama teks tersebut?
    </div>
  `,
  "options": [
    "Frugivora adalah hewan yang makanan utamanya berupa buah.",
    "Hewan frugivora berperan dalam penyebaran biji.",
    "Lingkungan hewan frugivora harus dijaga.",
    "Kelelawar buah dan burung termasuk hewan herbivora."
  ],
  "correct": 0
},
{
  "type": "mc_multiple",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Bimo si Anak Burung yang Angkuh</strong></p>
      <p style="text-align:center;">
        <img src="https://i.imgur.com/BF3kfJF.png" alt="Bimo si Anak Burung" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p>

      Di sebuah pohon besar hiduplah banyak burung pipit. Bimo adalah anak burung yang paling besar sayapnya. Ia merasa paling hebat dan berani terbang paling tinggi.<br><br>

      Suatu pagi, Bimo terbang rendah di dekat ladang. Di sana ada seekor kambing kecil yang sedang berjalan. Kambing itu mengibaskan ekornya untuk mengusir lalat. Ekor kambing itu hampir mengenai Bimo.<br><br>

      Bimo terkejut dan segera terbang ke dahan pohon. â€œBerani benar hewan itu menggangguku!â€ kata Bimo dengan kesal.<br><br>

      Sesampainya di sarang, Bimo terlihat terengah-engah. â€œBimo, kenapa napasmu tersengal?â€ tanya Riri. â€œSayapmu gemetar,â€ tambah Lala.<br><br>

      â€œDi ladang ada makhluk besar yang ingin menjatuhkanku!â€ kata Bimo dengan suara meninggi.<br><br>

      Bara, kakak Bimo, lalu berkata, â€œItu hanya anak kambing. Kambing tidak memakan burung. Ia hanya makan rumput.â€<br><br>

      Namun, Bimo terbang terlalu cepat dan kehilangan keseimbangan. Ia hampir jatuh dan tampak lelah serta ketakutan.<br><br>

      Akhirnya, Bimo menyadari kesalahannya dan meminta maaf kepada kakaknya. Sejak saat itu, Bimo tidak lagi bersikap angkuh.<br><br>

      <b>Question:</b> Informasi yang sesuai dengan isi teks adalah â€¦<br>
      <i>Pilih semua jawaban yang benar!</i>
    </div>
  `,
  "options": [
    "Bimo adalah anak burung yang memiliki sayap paling besar.",
    "Ekor kambing hampir mengenai Bimo saat ia terbang rendah.",
    "Kambing kecil tersebut berniat menyerang Bimo."
  ],
  "correct": [0, 1]
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Bimo si Anak Burung yang Angkuh</strong></p>
      <p style="text-align:center;">
        <img src="https://i.imgur.com/BF3kfJF.png" alt="Bimo si Anak Burung" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p>

      Di sebuah pohon besar hiduplah banyak burung pipit. Bimo adalah anak burung yang paling besar sayapnya. Ia merasa paling hebat dan berani terbang paling tinggi.<br><br>

      Suatu pagi, Bimo terbang rendah di dekat ladang. Di sana ada seekor kambing kecil yang sedang berjalan. Kambing itu mengibaskan ekornya untuk mengusir lalat. Ekor kambing itu hampir mengenai Bimo.<br><br>

      Bimo terkejut dan segera terbang ke dahan pohon. â€œBerani benar hewan itu menggangguku!â€ kata Bimo dengan kesal.<br><br>

      Sesampainya di sarang, Bimo terlihat terengah-engah. â€œBimo, kenapa napasmu tersengal?â€ tanya Riri. â€œSayapmu gemetar,â€ tambah Lala.<br><br>

      â€œDi ladang ada makhluk besar yang ingin menjatuhkanku!â€ kata Bimo dengan suara meninggi.<br><br>

      Bara, kakak Bimo, lalu berkata, â€œItu hanya anak kambing. Kambing tidak memakan burung. Ia hanya makan rumput.â€<br><br>

      Namun, Bimo terbang terlalu cepat dan kehilangan keseimbangan. Ia hampir jatuh dan tampak lelah serta ketakutan.<br><br>

      Akhirnya, Bimo menyadari kesalahannya dan meminta maaf kepada kakaknya. Sejak saat itu, Bimo tidak lagi bersikap angkuh.<br><br>

      <b>Question:</b> Amanat yang dapat disimpulkan dari cerita tersebut adalah â€¦
    </div>
  `,
  "options": [
    "Makhluk yang paling kuat selalu benar dalam setiap keadaan.",
    "Sikap sombong dapat membahayakan diri sendiri dan sebaiknya mau mendengarkan nasihat.",
    "Setiap hewan harus menghindari ladang agar tidak bertemu hewan lain.",
    "Keberanian ditunjukkan dengan menantang makhluk yang lebih besar."
  ],
  "correct": 1
},
{
  "type": "true_false",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Bimo si Anak Burung yang Angkuh</strong></p>
      <p style="text-align:center;">
        <img src="https://i.imgur.com/BF3kfJF.png" alt="Bimo si Anak Burung" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p>

      Di sebuah pohon besar hiduplah banyak burung pipit. Bimo adalah anak burung yang paling besar sayapnya. Ia merasa paling hebat dan berani terbang paling tinggi.<br><br>

      Suatu pagi, Bimo terbang rendah di dekat ladang. Di sana ada seekor kambing kecil yang sedang berjalan. Kambing itu mengibaskan ekornya untuk mengusir lalat. Ekor kambing itu hampir mengenai Bimo.<br><br>

      Bimo terkejut dan segera terbang ke dahan pohon. â€œBerani benar hewan itu menggangguku!â€ kata Bimo dengan kesal.<br><br>

      Sesampainya di sarang, Bimo terlihat terengah-engah. â€œBimo, kenapa napasmu tersengal?â€ tanya Riri. â€œSayapmu gemetar,â€ tambah Lala.<br><br>

      â€œDi ladang ada makhluk besar yang ingin menjatuhkanku!â€ kata Bimo dengan suara meninggi.<br><br>

      Bara, kakak Bimo, lalu berkata, â€œItu hanya anak kambing. Kambing tidak memakan burung. Ia hanya makan rumput.â€<br><br>

      Namun, Bimo terbang terlalu cepat dan kehilangan keseimbangan. Ia hampir jatuh dan tampak lelah serta ketakutan.<br><br>

      Akhirnya, Bimo menyadari kesalahannya dan meminta maaf kepada kakaknya. Sejak saat itu, Bimo tidak lagi bersikap angkuh.<br><br>

      <b>Petunjuk:</b> Sinta telah membaca cerita tersebut. Tentukan Benar (B) atau Salah (S) untuk setiap pernyataan berikut berdasarkan reaksi emosional yang mungkin dirasakan pembaca!
    </div>
  `,
  "statements": [
    "Pembaca dapat merasa khawatir saat Bimo hampir jatuh dari dahan.",
    "Pembaca merasa bangga ketika Bimo bersikap sombong kepada kakaknya.",
    "Pembaca merasa lega ketika Bimo menyadari kesalahannya dan berubah."
  ],
  "correct": [true, false, true]
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;">
        <img src="https://i.imgur.com/k9STXL7.png" alt="Ilustrasi penelitian cuaca" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Question:</b> Kata manakah dalam teks yang termasuk kosakata khusus di bidang ilmu cuaca?
    </div>
  `,
  "options": [
    "Atmosfer",
    "Radio",
    "Rumah",
    "Sahabat"
  ],
  "correct": 0
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;">
        <img src="https://i.imgur.com/k9STXL7.png" alt="Ilustrasi penelitian cuaca" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Question:</b> Amanat atau nilai utama yang dapat disimpulkan dari teks tersebut adalah â€¦
    </div>
  `,
  "options": [
    "Kerja sama dan ketekunan penting dalam menyelesaikan masalah",
    "Penelitian cuaca hanya bisa dilakukan oleh orang dewasa",
    "Persahabatan tidak berpengaruh dalam dunia kerja",
    "Balon udara digunakan untuk perjalanan jarak jauh"
  ],
  "correct": 0
},
{
  "type": "true_false",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Surat Rina tentang Penelitian Cuaca</strong></p>
      <p style="text-align:center;">
        <img src="https://i.imgur.com/k9STXL7.png" alt="Ilustrasi penelitian cuaca" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p>

      Rina menulis sebuah surat yang menceritakan pengalamannya mengikuti kegiatan penelitian cuaca bersama teman-temannya.  
      Dalam kegiatan tersebut, mereka bekerja sama mengamati kondisi cuaca, mencatat data, dan menerbangkan balon cuaca.  

      Saat terjadi kesalahan dalam pencatatan data, Rina dan timnya tidak menyerah. Mereka saling berdiskusi dan memperbaiki kesalahan agar hasil penelitian tetap akurat.  
      Kegiatan ini mengajarkan Rina tentang pentingnya ketelitian, kerja sama, dan tanggung jawab dalam menyelesaikan tugas.  

      <br>
      <b>Petunjuk:</b> Tentukan Benar (B) atau Salah (S) untuk setiap pernyataan berikut berdasarkan isi surat Rina!
    </div>
  `,
  "statements": [
    "Ketelitian dan kerja sama penting agar pekerjaan dapat berjalan dengan baik.",
    "Jika terjadi kesalahan kecil, sebaiknya pekerjaan langsung dihentikan.",
    "Tanggung jawab terhadap tugas dapat memberikan manfaat bagi banyak orang."
  ],
  "correct": [true, false, true]
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;">
        <img src="https://i.imgur.com/PQXsg40.png" alt="Tempat pensil dari kaleng bekas" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Pertanyaan:</b> Kata manakah yang termasuk kosakata khusus dalam bidang kerajinan tangan pada teks tersebut?
    </div>
  `,
  "options": [
    "Kaleng",
    "Flanel",
    "Rumah",
    "Meja"
  ],
  "correct": 1
},
{
  "type": "mc_multiple",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;">
        <img src="https://i.imgur.com/PQXsg40.png" alt="Tempat pensil dari kaleng bekas" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Pertanyaan:</b> Langkah melapisi bagian luar kaleng dengan kertas atau kain mendukung tujuan utama teks karena â€¦.<br>
      <i>(Jawaban benar lebih dari satu.)</i>
    </div>
  `,
  "options": [
    "Membuat kaleng lebih aman dan nyaman digunakan",
    "Meningkatkan keindahan hasil kerajinan",
    "Mengurangi sampah rumah tangga"
  ],
  "correct": [0, 1]
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;">
        <img src="https://i.imgur.com/PQXsg40.png" alt="Tempat pensil dari kaleng bekas" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Question:</b> Mengapa bagian luar kaleng bekas dilapisi kertas atau kain dalam kerajinan tersebut?
    </div>
  `,
  "options": [
    "Supaya kaleng terlihat lebih besar dan berat",
    "Agar kaleng menjadi lebih aman dan tampak menarik",
    "Karena kertas dan kain lebih kuat daripada kaleng",
    "Untuk mempermudah proses pembersihan bagian dalam kaleng"
  ],
  "correct": 1
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;">
        <img src="https://i.imgur.com/CcHWVJG.png" alt="Infografis Sampah Organik dan Anorganik" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Question:</b> Mengapa sampah organik perlu dipilah dan diolah menjadi kompos?
    </div>
  `,
  "options": [
    "Agar sampah organik dapat berubah menjadi sampah anorganik",
    "Supaya sampah organik tidak menghasilkan gas metana dan membahayakan lingkungan",
    "Karena sampah organik sulit terurai di alam",
    "Agar sampah organik dapat digunakan kembali sebagai plastik"
  ],
  "correct": 1
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;">
        <img src="https://i.imgur.com/CcHWVJG.png" alt="Infografis Sampah Organik dan Anorganik" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Question:</b> Kesimpulan yang paling tepat berdasarkan informasi pada teks dan gambar tersebut adalah â€¦
    </div>
  `,
  "options": [
    "Semua jenis sampah memiliki dampak yang sama terhadap lingkungan",
    "Sampah hanya berbahaya jika tidak dibakar dengan benar",
    "Pengelolaan sampah yang tepat dapat mengurangi risiko kesehatan dan pencemaran lingkungan",
    "Sampah anorganik lebih mudah diolah dibandingkan sampah organik"
  ],
  "correct": 2
},
{
  "type": "true_false",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Infografis Sampah Organik dan Anorganik</strong></p>
      <p style="text-align:center;">
        <img src="https://i.imgur.com/CcHWVJG.png" alt="Infografis Sampah Organik dan Anorganik" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Petunjuk:</b> Mengapa ikon bahaya (âš ï¸) digunakan pada bagian kandungan berbahaya dalam infografis tersebut?  
      Tentukan Benar (B) atau Salah (S) untuk setiap pernyataan berikut berdasarkan isi teks!
    </div>
  `,
  "statements": [
    "Untuk menekankan bahwa sampah organik dan anorganik memiliki risiko bagi kesehatan dan lingkungan.",
    "Untuk menarik perhatian pembaca agar lebih waspada terhadap informasi penting pada infografis.",
    "Untuk menunjukkan bahwa semua sampah harus dibuang tanpa dipilah."
  ],
  "correct": [true, true, false]
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <h3 style="text-align:center;"><b>Tertib Itu Tanggung Jawab Bersama</b></h3>
      <p style="text-align:center;">
        <img src="https://i.imgur.com/na7NQLK.png" alt="Suasana antrean di kantor pos" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      Pagi itu, suasana di loket pelayanan kantor pos tampak ramai. Beberapa warga telah datang sejak awal untuk mengurus pengiriman paket dan pembayaran tagihan. Di antara mereka, Sinta dan Ayu berdiri rapi di antrean. Mereka sudah menunggu hampir dua puluh menit tanpa mengeluh.<br><br>

      Saat antrean bergerak perlahan, seorang pria dewasa tiba-tiba melangkah masuk dan berdiri tepat di depan loket. Ia langsung menyerahkan berkas kepada petugas seolah-olah tidak ada orang lain di sekitarnya. Beberapa warga saling berpandangan, merasa tidak nyaman dengan sikap pria tersebut.<br><br>

      â€œPak, mohon maaf, seharusnya Bapak mengantre seperti yang lain,â€ ujar seorang bapak tua dengan suara tenang.<br><br>

      Pria itu menoleh sekilas. â€œSaya hanya sebentar. Urusan saya mendesak,â€ katanya singkat.<br><br>

      â€œSemua orang di sini juga punya kepentingan, Pak,â€ kata Sinta dengan sopan. â€œKami sudah menunggu cukup lama.â€<br><br>

      Pria itu tampak tidak terima. â€œKalau saya terlambat, siapa yang bertanggung jawab?â€ katanya dengan nada tinggi.<br><br>

      Ayu menarik napas dan berkata, â€œJustru dengan mengantre, pelayanan bisa berjalan adil. Kalau semua merasa paling penting, keadaan akan jadi kacau.â€<br><br>

      Perdebatan kecil mulai menarik perhatian petugas. Kepala kantor pos pun keluar dari ruangannya. Setelah mendengar penjelasan singkat, ia meminta pria tersebut kembali ke antrean sesuai urutan kedatangannya.<br><br>

      Dengan wajah menunduk, pria itu akhirnya menurut. Antrean kembali berjalan lancar. Warga yang menunggu merasa lega karena keadilan telah ditegakkan. Dari kejadian itu, semua menyadari bahwa tertib bukan hanya aturan, melainkan bentuk tanggung jawab terhadap sesama.<br><br>

      <b>Question:</b> Berapa lama Sinta dan Ayu menunggu di antrean kantor pos?
    </div>
  `,
  "options": [
    "Hampir sepuluh menit",
    "Sekitar lima belas menit",
    "Hampir dua puluh menit",
    "Lebih dari tiga puluh menit"
  ],
  "correct": 2
},
{
  "type": "mc_multiple",
  "text": `
    <div style="text-align: justify;">
      <h3 style="text-align:center;"><b>Tertib Itu Tanggung Jawab Bersama</b></h3>
      <p style="text-align:center;">
        <img src="https://i.imgur.com/na7NQLK.png" alt="Suasana antrean di kantor pos" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      Pagi itu, suasana di loket pelayanan kantor pos tampak ramai. Beberapa warga telah datang sejak awal untuk mengurus pengiriman paket dan pembayaran tagihan. Di antara mereka, Sinta dan Ayu berdiri rapi di antrean. Mereka sudah menunggu hampir dua puluh menit tanpa mengeluh.<br><br>

      Saat antrean bergerak perlahan, seorang pria dewasa tiba-tiba melangkah masuk dan berdiri tepat di depan loket. Ia langsung menyerahkan berkas kepada petugas seolah-olah tidak ada orang lain di sekitarnya. Beberapa warga saling berpandangan, merasa tidak nyaman dengan sikap pria tersebut.<br><br>

      â€œPak, mohon maaf, seharusnya Bapak mengantre seperti yang lain,â€ ujar seorang bapak tua dengan suara tenang.<br><br>

      Pria itu menoleh sekilas. â€œSaya hanya sebentar. Urusan saya mendesak,â€ katanya singkat.<br><br>

      â€œSemua orang di sini juga punya kepentingan, Pak,â€ kata Sinta dengan sopan. â€œKami sudah menunggu cukup lama.â€<br><br>

      Pria itu tampak tidak terima. â€œKalau saya terlambat, siapa yang bertanggung jawab?â€ katanya dengan nada tinggi.<br><br>

      Ayu menarik napas dan berkata, â€œJustru dengan mengantre, pelayanan bisa berjalan adil. Kalau semua merasa paling penting, keadaan akan jadi kacau.â€<br><br>

      Perdebatan kecil mulai menarik perhatian petugas. Kepala kantor pos pun keluar dari ruangannya. Setelah mendengar penjelasan singkat, ia meminta pria tersebut kembali ke antrean sesuai urutan kedatangannya.<br><br>

      Dengan wajah menunduk, pria itu akhirnya menurut. Antrean kembali berjalan lancar. Warga yang menunggu merasa lega karena keadilan telah ditegakkan. Dari kejadian itu, semua menyadari bahwa tertib bukan hanya aturan, melainkan bentuk tanggung jawab terhadap sesama.<br><br>

      <b>Pertanyaan:</b> Kesimpulan dan amanat yang tepat berdasarkan isi teks adalah â€¦<br>
      <i>(Jawaban benar lebih dari satu.)</i>
    </div>
  `,
  "options": [
    "Tertib mengantre mencerminkan sikap saling menghargai sesama.",
    "Tokoh pria dewasa menunjukkan contoh sikap tertib sejak awal.",
    "Amanat teks adalah pentingnya keadilan dalam pelayanan umum."
  ],
  "correct": [0, 2]
},
{
  "type": "mendukung_tidak",
  "text": `
<div style="text-align: justify;">
      <h3 style="text-align:center; font-weight:bold;">Tertib Itu Tanggung Jawab Bersama</h3>

      <img src="https://i.imgur.com/na7NQLK.png" 
           alt="Suasana antrean di kantor pos" 
           style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;"><br><br>

      Pagi itu, suasana di loket pelayanan kantor pos tampak ramai. Beberapa warga telah datang sejak awal untuk mengurus pengiriman paket dan pembayaran tagihan. 
      Di antara mereka, Sinta dan Ayu berdiri rapi di antrean. Mereka sudah menunggu hampir dua puluh menit tanpa mengeluh.<br><br>

      Saat antrean bergerak perlahan, seorang pria dewasa tiba-tiba melangkah masuk dan berdiri tepat di depan loket. 
      Ia langsung menyerahkan berkas kepada petugas seolah-olah tidak ada orang lain di sekitarnya. 
      Beberapa warga saling berpandangan, merasa tidak nyaman dengan sikap pria tersebut.<br><br>

      â€œPak, mohon maaf, seharusnya Bapak mengantre seperti yang lain,â€ ujar seorang bapak tua dengan suara tenang.<br><br>

      Pria itu menoleh sekilas. â€œSaya hanya sebentar. Urusan saya mendesak,â€ katanya singkat.<br><br>

      â€œSemua orang di sini juga punya kepentingan, Pak,â€ kata Sinta dengan sopan. â€œKami sudah menunggu cukup lama.â€<br><br>

      Ayu menambahkan bahwa dengan mengantre, pelayanan bisa berjalan adil dan tertib. 
      Akhirnya, pria tersebut diminta kembali ke antrean sesuai urutan kedatangannya.<br><br>

      Raka berpendapat bahwa sikap pria dalam cerita tersebut tidak tepat.<br>
      <b>Question:</b> Pilih apakah alasan berikut <b>Mendukung</b> atau <b>Tidak Mendukung</b> pendapat Raka:
</div>
`,
  "statements": [
    "Setiap orang yang mengantre memiliki kepentingan yang sama pentingnya.",
    "Orang yang datang lebih dulu seharusnya dilayani lebih cepat tanpa perlu antre.",
    "Ketertiban antrean membantu pelayanan berjalan adil dan tertib."
  ],
  "correct": [true, false, true]
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;">
        <img src="https://i.imgur.com/JBgUSJD.png" alt="Bagian-bagian Mata" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Question:</b> Berdasarkan teks, bagian mata yang fungsinya menerima cahaya dan mengirim sinyal ke otak adalah â€¦
    </div>
  `,
  "options": [
    "Kornea",
    "Sklera",
    "Retina",
    "Kelopak dan Bulu Mata"
  ],
  "correct": 2
},
{
  "type": "mc_multiple",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;">
        <img src="https://i.imgur.com/JBgUSJD.png" alt="Bagian-bagian Mata" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Pertanyaan:</b> Perubahan yang dapat terjadi pada mata jika tidak dirawat dengan baik sesuai teks adalah â€¦<br>
      <i>(Jawaban benar lebih dari satu.)</i>
    </div>
  `,
  "options": [
    "Mata menjadi cepat lelah dan sulit melihat dengan jelas",
    "Penglihatan terganggu akibat kornea dan retina tidak sehat",
    "Sklera menjadi lebih sehat dan kuat"
  ],
  "correct": [0, 1]
},
{
  "type": "true_false",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Bagian-bagian Mata</strong></p>
      <p style="text-align:center;">
        <img src="https://i.imgur.com/JBgUSJD.png" alt="Bagian-bagian Mata" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Petunjuk:</b> Klik Benar (B) atau Salah (S) untuk setiap pernyataan berikut berdasarkan kesesuaian informasi dalam teks:
    </div>
  `,
  "statements": [
    "Mata yang tidak dirawat dapat menjadi cepat lelah dan penglihatan terganggu.",
    "Kelopak dan bulu mata berfungsi untuk membantu cahaya masuk ke retina.",
    "Sklera melindungi bola mata dan bisa iritasi jika sering digosok dengan tangan kotor."
  ],
  "correct": [true, false, true]
},
{
  "type": "mc_multiple",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Surat untuk Diriku di Masa Depan</strong></p>

      Langkah kecil ini kadang ragu<br>
      Berjalan di jalan yang belum tentu<br>
      Namun tekadku tetap kuikat erat<br>
      Agar tak runtuh saat lelah mendekat<br><br>

      Ada hari ketika aku jatuh<br>
      Karena mimpi terasa terlalu jauh<br>
      Ada saat aku ingin berhenti<br>
      Saat dunia tak sejalan dengan harap diri<br><br>

      Namun aku belajar memaafkan diri<br>
      Atas salah dan luka yang pernah terjadi<br>
      Belajar bangkit dari kegagalan<br>
      Menjadi kuat tanpa kehilangan kejujuran<br><br>

      Terima kasih kuucap pada waktu<br>
      Yang mengajarkanku arti menunggu<br>
      Pada proses yang tak selalu mudah<br>
      Namun perlahan membentukku dewasa<br><br>

      Kelak saat aku menoleh ke belakang<br>
      Dan semua ini tinggal kenangan<br>
      Satu doaku yang ingin terjaga<br>
      Semoga aku tetap setia pada mimpi dan asa<br><br>

      <b>Pertanyaan:</b> Objek atau hal yang dibicarakan dalam teks di atas dapat diidentifikasi melalui kosakata yang digunakan.<br>
      <i>(Jawaban benar lebih dari satu.)</i>
    </div>
  `,
  "options": [
    "Mimpi dan asa penulis",
    "Hari-hari sulit yang dialami penulis",
    "Orang lain yang menasihati penulis"
  ],
  "correct": [0, 1]
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Surat untuk Diriku di Masa Depan</strong></p>

      Langkah kecil ini kadang ragu<br>
      Berjalan di jalan yang belum tentu<br>
      Namun tekadku tetap kuikat erat<br>
      Agar tak runtuh saat lelah mendekat<br><br>

      Ada hari ketika aku jatuh<br>
      Karena mimpi terasa terlalu jauh<br>
      Ada saat aku ingin berhenti<br>
      Saat dunia tak sejalan dengan harap diri<br><br>

      Namun aku belajar memaafkan diri<br>
      Atas salah dan luka yang pernah terjadi<br>
      Belajar bangkit dari kegagalan<br>
      Menjadi kuat tanpa kehilangan kejujuran<br><br>

      Terima kasih kuucap pada waktu<br>
      Yang mengajarkanku arti menunggu<br>
      Pada proses yang tak selalu mudah<br>
      Namun perlahan membentukku dewasa<br><br>

      Kelak saat aku menoleh ke belakang<br>
      Dan semua ini tinggal kenangan<br>
      Satu doaku yang ingin terjaga<br>
      Semoga aku tetap setia pada mimpi dan asa<br><br>

      <b>Pertanyaan:</b> Apa makna ungkapan â€œLangkah kecil ini kadang raguâ€ dalam teks di atas?
    </div>
  `,
  "options": [
    "Penulis merasa takut untuk memulai sesuatu yang belum pasti.",
    "Penulis sedang berjalan kaki di pagi hari.",
    "Penulis menyesal telah melakukan kesalahan kecil.",
    "Penulis ingin cepat-cepat mencapai tujuannya tanpa berpikir panjang."
  ],
  "correct": 0
},
{
  "type": "mc_multiple",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Surat untuk Diriku di Masa Depan</strong></p>

      Langkah kecil ini kadang ragu<br>
      Berjalan di jalan yang belum tentu<br>
      Namun tekadku tetap kuikat erat<br>
      Agar tak runtuh saat lelah mendekat<br><br>

      Ada hari ketika aku jatuh<br>
      Karena mimpi terasa terlalu jauh<br>
      Ada saat aku ingin berhenti<br>
      Saat dunia tak sejalan dengan harap diri<br><br>

      Namun aku belajar memaafkan diri<br>
      Atas salah dan luka yang pernah terjadi<br>
      Belajar bangkit dari kegagalan<br>
      Menjadi kuat tanpa kehilangan kejujuran<br><br>

      Terima kasih kuucap pada waktu<br>
      Yang mengajarkanku arti menunggu<br>
      Pada proses yang tak selalu mudah<br>
      Namun perlahan membentukku dewasa<br><br>

      Kelak saat aku menoleh ke belakang<br>
      Dan semua ini tinggal kenangan<br>
      Satu doaku yang ingin terjaga<br>
      Semoga aku tetap setia pada mimpi dan asa<br><br>

      <b>Pertanyaan:</b> Berdasarkan teks, ide pokok dan amanat yang dapat disimpulkan adalah â€¦<br>
      <i>(Jawaban benar lebih dari satu.)</i>
    </div>
  `,
  "options": [
    "Penulis menekankan pentingnya tekad, kesabaran, dan tetap berusaha meskipun menghadapi kesulitan.",
    "Penulis menceritakan pengalaman orang lain yang sukses tanpa kesulitan.",
    "Penulis menekankan nilai belajar dari kesalahan dan tetap setia pada mimpi serta harapan."
  ],
  "correct": [0, 2]
},
{
  "type": "mc",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;">
        <img src="https://i.imgur.com/1s2Waxj.png" alt="Berbagai Jenis Batik di Indonesia" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Pertanyaan:</b> Kapan batik diakui sebagai Warisan Budaya Takbenda oleh UNESCO?
    </div>
  `,
  "options": [
    "Sejak zaman kerajaan",
    "Pada tahun 2009",
    "Saat ekspor batik meningkat",
    "Ketika wisatawan mulai membeli batik"
  ],
  "correct": 1
},
{
  "type": "true_false",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Berbagai Jenis Batik di Indonesia</strong></p>
      <p style="text-align:center;">
        <img src="https://i.imgur.com/1s2Waxj.png" alt="Berbagai Jenis Batik di Indonesia" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Petunjuk:</b> Perhatikan pernyataan berikut!  
      Klik <b>Benar (B)</b> atau <b>Salah (S)</b> berdasarkan ide pokok dan ide pendukung teks.
    </div>
  `,
  "statements": [
    "Ide pokok teks adalah batik merupakan warisan budaya Indonesia yang mendunia.",
    "Pengakuan UNESCO terhadap batik menjadi salah satu ide pendukung dalam teks.",
    "Daftar nama jenis batik merupakan ide pokok utama teks."
  ],
  "correct": [true, true, false]
},
{
  "type": "true_false",
  "text": `
    <div style="text-align: justify;">
      <p style="text-align:center;"><strong>Berbagai Jenis Batik di Indonesia</strong></p>
      <p style="text-align:center;">
        <img src="https://i.imgur.com/1s2Waxj.png" alt="Berbagai Jenis Batik di Indonesia" style="display:block; margin:0 auto 15px auto; max-width:100%; border-radius:12px;">
      </p><br>

      <b>Petunjuk:</b> Perhatikan ilustrasi dan isi teks!  
      Klik <b>Benar (B)</b> atau <b>Salah (S)</b> untuk menilai kesesuaian antara ilustrasi dengan informasi dalam teks.
    </div>
  `,
  "statements": [
    "Ilustrasi menampilkan berbagai motif batik yang sesuai dengan pembahasan jenis batik dalam teks.",
    "Ilustrasi mendukung isi teks yang menjelaskan batik sebagai warisan budaya Indonesia.",
    "Ilustrasi menunjukkan proses pembuatan batik secara rinci seperti yang dijelaskan dalam teks."
  ],
  "correct": [true, true, false]
}



];

let answers = questions.map(q => {
  if (q.type === 'mc_multiple') return [];
  if (q.type === 'true_false') return Array(q.statements.length).fill(null);
  if (q.type === 'tepat_tidak') return Array(q.statements.length).fill(null);
if (q.type === 'sesuai_tidak') return Array(q.statements.length).fill(null);
if (q.type === 'mendukung_tidak') return Array(q.statements.length).fill(null);
  if (q.type === 'dampak_jangka') return Array(q.statements.length).fill(null);
  return null;
});


let currentQuestion = 0;
let timerRunning = true;

const questionDisplay = document.getElementById('questionDisplay');
const questionButtonsContainer = document.getElementById('questionButtons');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const submitBtn = document.getElementById('submitBtn');
const scoreDisplay = document.getElementById('scoreDisplay');
const timerDisplay = document.getElementById('timer');

function renderQuestionButtons() {
  questionButtonsContainer.innerHTML = '';
  questions.forEach((_, i) => {
    const btn = document.createElement('button');
    btn.textContent = i + 1;
    if (i === currentQuestion) btn.classList.add('active');
    if (answers[i] !== null && (Array.isArray(answers[i]) ? answers[i].some(v => v !== null) : true)) {
      btn.style.backgroundColor = '#43a047';
      btn.style.color = 'white';
    }
    btn.addEventListener('click', () => {
      currentQuestion = i;
      renderQuestion(currentQuestion);
      updateNavButtons();
    });
    questionButtonsContainer.appendChild(btn);
  });
}

function renderQuestion(index) {
  const q = questions[index];
  let html = `<h3>Soal ${index + 1}</h3>${q.text}`;


  if (q.type === 'mc') {
    q.options.forEach((opt, i) => {
      const checked = answers[index] === i ? 'checked' : '';
      html += `<label class="option">
        <input type="radio" name="option" value="${i}" ${checked}> ${opt}
      </label>`;
    });
  }
  else if (q.type === 'mc_multiple') {
    q.options.forEach((opt, i) => {
      const checked = answers[index].includes(i) ? 'checked' : '';
      html += `<label class="option">
        <input type="checkbox" value="${i}" ${checked}> ${opt}
      </label>`;
    });
  }
else if (q.type === 'mendukung_tidak') {
  html += `<table class="true-false">
    <tr>
      <th>Pernyataan</th>
      <th>Mendukung</th>
      <th>Tidak Mendukung</th>
    </tr>`;

  q.statements.forEach((stmt, i) => {
    const mendukungChecked = answers[index][i] === true ? 'checked' : '';
    const tidakChecked = answers[index][i] === false ? 'checked' : '';
    html += `
    <tr>
      <td style="text-align:left;">${stmt}</td>
      <td><input type="radio" name="mt_${i}" value="true" ${mendukungChecked}></td>
      <td><input type="radio" name="mt_${i}" value="false" ${tidakChecked}></td>
    </tr>`;
  });

  html += `</table>`;
}

else if (q.type === 'tepat_tidak') {
  html += `<table class="true-false">
    <tr>
      <th>Pernyataan</th>
      <th>Tepat</th>
      <th>Tidak Tepat</th>
    </tr>`;

  q.statements.forEach((stmt, i) => {
    const tepatChecked = answers[index][i] === true ? 'checked' : '';
    const tidakChecked = answers[index][i] === false ? 'checked' : '';

    html += `
    <tr>
      <td style="text-align:left;">${stmt}</td>
      <td>
        <input type="radio" name="tt_${i}" value="true" ${tepatChecked}>
      </td>
      <td>
        <input type="radio" name="tt_${i}" value="false" ${tidakChecked}>
      </td>
    </tr>`;
  });

  html += `</table>`;
}
else if (q.type === 'dampak_jangka') {
  html += `
    <table class="true-false">
      <tr>
        <th>Pernyataan</th>
        <th>Jangka Pendek</th>
        <th>Jangka Panjang</th>
      </tr>
  `;

  q.statements.forEach((stmt, i) => {
    const pendekChecked = answers[index][i] === 'pendek' ? 'checked' : '';
    const panjangChecked = answers[index][i] === 'panjang' ? 'checked' : '';

    html += `
      <tr>
        <td style="text-align:left;">${stmt}</td>
        <td>
          <input type="radio" name="dj_${i}" value="pendek" ${pendekChecked}>
        </td>
        <td>
          <input type="radio" name="dj_${i}" value="panjang" ${panjangChecked}>
        </td>
      </tr>
    `;
  });

  html += `</table>`;
}
else if (q.type === 'sesuai_tidak') {
  html += `<table class="true-false">
    <tr>
      <th>Pernyataan</th>
      <th>Sesuai</th>
      <th>Tidak Sesuai</th>
    </tr>`;

  q.statements.forEach((stmt, i) => {
    const sesuaiChecked = answers[index][i] === true ? 'checked' : '';
    const tidakChecked  = answers[index][i] === false ? 'checked' : '';

    html += `
      <tr>
        <td style="text-align:left;">${stmt}</td>
        <td>
          <input type="radio" name="st_${i}" value="true" ${sesuaiChecked}>
        </td>
        <td>
          <input type="radio" name="st_${i}" value="false" ${tidakChecked}>
        </td>
      </tr>`;
  });

  html += `</table>`;
}

  else if (q.type === 'true_false') {
    html += `<table class="true-false">
      <tr><th>Pernyataan</th><th>Benar</th><th>Salah</th></tr>`;
    q.statements.forEach((stmt, i) => {
      const benarChecked = answers[index][i] === true ? 'checked' : '';
      const salahChecked = answers[index][i] === false ? 'checked' : '';
      html += `
      <tr>
        <td style="text-align:left;">${stmt}</td>
        <td><input type="radio" name="tf_${i}" value="true" ${benarChecked}></td>
        <td><input type="radio" name="tf_${i}" value="false" ${salahChecked}></td>
      </tr>`;
    });
    html += `</table>`;
  }

  questionDisplay.innerHTML = html;
  if (window.MathJax) MathJax.typesetPromise([questionDisplay]);

  // Event listener untuk tipe mc
  const options = document.querySelectorAll('input[name="option"]');
  options.forEach(option => {
    option.addEventListener('change', (e) => {
      answers[index] = parseInt(e.target.value);
      renderQuestionButtons();
    });
  });
// ===== Event listener MC multiple =====
  if (q.type === 'mc_multiple') {
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');
    if (!Array.isArray(answers[index])) answers[index] = [];
    checkboxes.forEach((checkbox, i) => {
      checkbox.addEventListener('change', e => {
        if (e.target.checked) {
          if (!answers[index].includes(i)) answers[index].push(i);
        } else {
          answers[index] = answers[index].filter(v => v !== i);
        }
        renderQuestionButtons();
      });
    });
  }

  // Event listener untuk tipe tepat_tidak
if (q.type === 'tepat_tidak') {
  q.statements.forEach((_, i) => {
    document.querySelectorAll(`input[name="tt_${i}"]`).forEach(radio => {
      radio.addEventListener('change', e => {
        answers[index][i] = (e.target.value === 'true');
        renderQuestionButtons();
      });
    });
  });
}
// Event listener dampak_jangka
if (q.type === 'dampak_jangka') {
  q.statements.forEach((_, i) => {
    document.querySelectorAll(`input[name="dj_${i}"]`).forEach(radio => {
      radio.addEventListener('change', e => {
        answers[index][i] = e.target.value;
        renderQuestionButtons();
      });
    });
  });
}
if (q.type === 'mendukung_tidak') {
  q.statements.forEach((_, i) => {
    document.querySelectorAll(`input[name="mt_${i}"]`).forEach(radio => {
      radio.addEventListener('change', e => {
        answers[index][i] = (e.target.value === 'true');
        renderQuestionButtons();
      });
    });
  });
}
// Event listener untuk tipe sesuai-tidak
if (q.type === 'sesuai_tidak') {
  q.statements.forEach((_, i) => {
    document.querySelectorAll(`input[name="st_${i}"]`).forEach(radio => {
      radio.addEventListener('change', e => {
        answers[index][i] = (e.target.value === 'true');
        renderQuestionButtons();
      });
    });
  });
}

  // Event listener untuk tipe benar-salah
  if (q.type === 'true_false') {
    q.statements.forEach((_, i) => {
      document.querySelectorAll(`input[name="tf_${i}"]`).forEach(radio => {
        radio.addEventListener('change', e => {
          answers[index][i] = (e.target.value === 'true');
          renderQuestionButtons();
        });
      });
    });
  }

  updateButtons();
  updateNavButtons();
}

function updateButtons() {
  const buttons = document.querySelectorAll('.question-buttons button');
  buttons.forEach((btn, idx) => {
    btn.classList.toggle('active', idx === currentQuestion);
  });
}

function updateNavButtons() {
  prevBtn.disabled = currentQuestion === 0;
  nextBtn.disabled = currentQuestion === questions.length - 1;
  submitBtn.style.display = currentQuestion === questions.length - 1 ? 'inline-block' : 'none';
}

function arraysEqual(a, b) {
  if (!Array.isArray(a) || !Array.isArray(b)) return false;
  if (a.length !== b.length) return false;
  return a.every((val, i) => val === b[i]);
}

function calculateScore() {
  let score = 0;

  questions.forEach((q, i) => {
    if (q.type === 'mc' && answers[i] === q.correct) score++;
    else if (q.type === 'true_false' && arraysEqual(answers[i], q.correct)) score++;
    else if (q.type === 'tepat_tidak' && arraysEqual(answers[i], q.correct)) score++;
    else if (q.type === 'dampak_jangka' && arraysEqual(answers[i], q.correct)) score++;
else if (q.type === 'mendukung_tidak' && arraysEqual(answers[i], q.correct)) score++;
else if (q.type === 'sesuai_tidak' && arraysEqual(answers[i], q.correct)) score++;
    else if (q.type === 'mc_multiple' && arraysEqual([...answers[i]].sort(), [...q.correct].sort())) score++;
    else if (q.type === 'benefit_challenge' && arraysEqual(answers[i], q.correct)) score++;
    else if (q.type === 'true_false_en' && arraysEqual(answers[i], q.correct)) score++;
    else if (q.type === 'fact_opinion' && arraysEqual(answers[i], q.correct)) score++;
  });

  const percentage = Math.round((score / questions.length) * 100);

  scoreDisplay.textContent = `Skor Anda: ${percentage}`;
  scoreDisplay.style.display = 'block';

// ğŸ”¥ KIRIM KE FIREBASE
  simpanHasilFirebase(percentage);
}
function disableAll() {
  document.querySelectorAll('button').forEach(btn => btn.disabled = true);
  document.querySelectorAll('input').forEach(inp => inp.disabled = true);
}

function endTryout() {
  if (timerRunning) {
    calculateScore();
    disableAll();
    timerRunning = false;
// Tampilkan tombol Kembali setelah submit
const backBtn = document.createElement('button');
backBtn.textContent = "Kembali ke Beranda";
backBtn.style.padding = "10px 18px";
backBtn.style.marginTop = "10px";
backBtn.style.backgroundColor = "#1e88e5";
backBtn.style.color = "white";
backBtn.style.border = "none";
backBtn.style.borderRadius = "6px";
backBtn.style.fontWeight = "bold";
backBtn.style.cursor = "pointer";
backBtn.addEventListener('click', () => {
    window.location.href = "https://kebunilmu.github.io/Kebun-Ilmu-TKA/";
});
document.querySelector('.right-panel .navigation').appendChild(backBtn);

  }
}

submitBtn.addEventListener('click', () => { endTryout(); submitBtn.disabled = true; });
prevBtn.addEventListener('click', () => { if (currentQuestion > 0) { currentQuestion--; renderQuestion(currentQuestion); } });
nextBtn.addEventListener('click', () => { if (currentQuestion < questions.length - 1) { currentQuestion++; renderQuestion(currentQuestion); } });

function startTimer(duration) {
  let timer = duration;
  timerRunning = true; // pastikan timer aktif

  const interval = setInterval(() => {
    if (!timerRunning) { 
      clearInterval(interval); 
      return; 
    }

    const minutes = Math.floor(timer / 60);
    const seconds = timer % 60;
    timerDisplay.textContent = `${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;

    if (timer <= 0) {
      clearInterval(interval);
      endTryout();
      alert("Waktu habis! Jawaban Anda telah disubmit.");
    }

    timer--;
  }, 1000);
}


// Auto submit saat keluar fullscreen
document.addEventListener("fullscreenchange", () => {
  if (!document.fullscreenElement && timerRunning) {
    alert("Anda keluar dari fullscreen. Jawaban otomatis disubmit!");
    endTryout();
  }
});

// Auto submit saat pindah tab/window (desktop)
window.addEventListener("blur", () => {
  if (timerRunning) {
    alert("Anda pindah tab/layar. Jawaban otomatis disubmit!");
    endTryout();
  }
});

// Auto submit saat pindah app / tab (HP)
document.addEventListener("visibilitychange", () => {
  if (document.hidden && timerRunning) {
    alert("Anda pindah tab/layar. Jawaban otomatis disubmit!");
    endTryout();
  }
});

// cek session saat halaman dimuat
checkSession();

  </script>
<!-- FIREBASE SDK -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
  import { getFirestore } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAY-bJOK6QLFhpi5lQMLGNxsxIe8JNUvpg",
    authDomain: "tryout-kebun-ilmu.firebaseapp.com",
    projectId: "tryout-kebun-ilmu",
    storageBucket: "tryout-kebun-ilmu.firebasestorage.app",
    messagingSenderId: "497636674894",
    appId: "1:497636674894:web:82fb38cb615d8bf7b1a21f"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // supaya bisa dipakai di script lain
  window.db = db;

  // ğŸ”¥ INI YANG PALING PENTING
  window.simpanHasilFirebase = async function (nilai) {
    const { addDoc, collection, serverTimestamp } = await import(
      "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"
    );

    await addDoc(collection(window.db, "hasil_ujian"), {
  nik: window.dataPeserta.nik,
  nama: window.dataPeserta.nama,
  jk: window.dataPeserta.jk,
  tglLahir: window.dataPeserta.tgl,
  sekolah: window.dataPeserta.sekolah,
  mapel: "Bahasa Indonesia SD/MI 3", // tambah field mapel
  nilai: nilai,
  waktu: new Date().toISOString()
});


    console.log("âœ… HASIL UJIAN TERSIMPAN");
  };
</script>

</body>
</html>